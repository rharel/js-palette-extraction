function _classCallCheck(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}!function(){function r(r,n,t){r/=255,n/=255,t/=255;var e=Math.max(r,n,t),a=Math.min(r,n,t),i=void 0,o=void 0,u=(e+a)/2;if(e===a)i=o=0;else{var c=e-a;switch(o=u>.5?c/(2-e-a):c/(e+a),e){case r:i=(n-t)/c+(n<t?6:0);break;case n:i=(t-r)/c+2;break;case t:i=(r-n)/c+4}i/=6}return[i,o,u]}function n(r,n,t){var e=void 0,a=void 0,i=void 0;if(0===n)e=a=i=t;else{var o=function(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+6*(n-r)*t:t<.5?n:t<2/3?r+(n-r)*(2/3-t)*6:r},u=t<.5?t*(1+n):t+n-t*n,c=2*t-u;e=o(c,u,r+1/3),a=o(c,u,r),i=o(c,u,r-1/3)}return[Math.max(Math.min(256*e,255),0),Math.max(Math.min(256*a,255),0),Math.max(Math.min(256*i,255),0)]}define("color_conversion",{rgb_to_hsl:r,hsl_to_rgb:n})}(),function(){function r(r,n){return r+Math.floor(Math.random()*(n-r+1))}define("rng",{integer_in_range:r})}(),function(){function r(r,n,t,e,a,i){var o=n.length,u=!1;return i.fill(0),r.forEach(function(r,c){for(var f=0,h=t(r,n[0]),l=1;l<o;++l){var s=t(r,n[l]);s<h&&(h=s,f=l)}a[c]=f,i[f]+=1,a[c]!==e[c]&&(u=!0)}),u}function n(r,n,t,e){e.forEach(function(r){return r.fill(0)}),r.forEach(function(r,a){var i=n[a],o=e[i],u=t[i];o.forEach(function(n,t){return o[t]+=r[t]/u})})}function t(t,e,a,i){for(var o=a,u=new Array(t.length),c=new Array(t.length),f=new Array(e),h=!0;h;)if(h=r(t,o,i,u,c,f)){n(t,c,f,o);var l=u;u=c,c=l}return o.map(function(r,n){return{mean:r,size:f[n]}})}define("k_means_clustering",{find_clusters:t})}();var _slicedToArray=function(){function r(r,n){var t=[],e=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(e=(o=u.next()).done)&&(t.push(o.value),!n||t.length!==n);e=!0);}catch(r){a=!0,i=r}finally{try{!e&&u.return&&u.return()}finally{if(a)throw i}}return t}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return r(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function r(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}();!function(){function r(r,n){for(var t=new h(r),e=n.width,a=n.height,i=t.width-e,o=t.height-a,u=[],f=0;f<i;f+=e)for(var l=0;l<o;l+=a){var s=c.integer_in_range(f,f+e),d=c.integer_in_range(l,l+a);u.push(t.pixel(s,d))}return u}function n(r,n){var t=_slicedToArray(r,3),e=t[0],a=t[1],i=t[2],o=_slicedToArray(n,3),u=o[0],c=o[1],f=o[2];return Math.pow(e-u,2)+Math.pow(a-c,2)+Math.pow(i-f,2)}function t(r,t){for(var e=[],a=0;a<t;++a){var i=c.integer_in_range(0,r.length-1),o=r[i];e.push(o.slice())}return f.find_clusters(r,t,e,n)}function e(r,n){return t(r,n).sort(function(r,n){return n.size-r.size})}function a(n,t,a){var i=r(n,a),o=i.map(function(r){var n=_slicedToArray(r,3),t=n[0],e=n[1],a=n[2];return u.rgb_to_hsl(t,e,a)});return e(o,t).map(function(r){var n=_slicedToArray(r.mean,3),t=n[0],e=n[1],a=n[2];return u.hsl_to_rgb(t,e,a)})}function i(r,n,t){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=r.naturalWidth,e.height=r.naturalHeight,i.drawImage(r,0,0,e.width,e.height);var o=i.getImageData(0,0,e.width,e.height);return a(o,n,t)}function o(r,n,t,e,a){var o=new Image;return o.addEventListener("error",a),o.addEventListener("load",function(){return e(i(o,n,t))}),o.crossOrigin="Anonymous",o.src=r,o}var u=void 0,c=void 0,f=void 0,h=function(){function r(n){_classCallCheck(this,r),this._image_data=n}return _createClass(r,[{key:"pixel",value:function(r,n){var t=this._image_data.width,e=4*(n*t+r);return this._image_data.data.slice(e,e+3)}},{key:"width",get:function(){return this._image_data.width}},{key:"height",get:function(){return this._image_data.height}}]),r}();define("palette_extraction",["./color_conversion","./rng","./k_means_clustering"],function(r,n,t){return u=r,c=n,f=t,{from_samples:e,from_image_data:a,from_image:i,from_url:o}})}();